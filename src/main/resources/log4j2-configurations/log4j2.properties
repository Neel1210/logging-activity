# =========================
# Appenders
# =========================

# Console Appender
appender.console.type = Console
appender.console.name = console
appender.console.target = SYSTEM_OUT
appender.console.layout.type = PatternLayout
appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} [%t] %-5level %c{1} - %msg%n

# =========================
# Rewrite Appender
# =========================

appender.rewrite.type = Rewrite
appender.rewrite.name = rewrite

# Message Rewrite Policy
appender.rewrite.policy.type = MessageRewritePolicy

# ---- Replace Rule 1 (Email) ----
appender.rewrite.policy.replace1.type = replace
appender.rewrite.policy.replace1.regex = ([A-Za-z0-9._%+-])([A-Za-z0-9._%+-]*)(@[A-Za-z0-9.-]+\\.[A-Za-z]{2,})
appender.rewrite.policy.replace1.replacement = [EMAIL MASKED]

# ---- Replace Rule 2 (Phone) ----
appender.rewrite.policy.replace2.type = replace
appender.rewrite.policy.replace2.regex = \\+?1?\\s*\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}
appender.rewrite.policy.replace2.replacement = [PHONE]

# ---- Replace Rule 3 (Token) ----
appender.rewrite.policy.replace3.type = replace
appender.rewrite.policy.replace3.regex = [A-Za-z0-9_%+-]{20,}\\.[A-Za-z0-9_%+-]{20,}\\.[A-Za-z0-9_%+-]+\\b
appender.rewrite.policy.replace3.replacement = [TOKEN]

# Attach Console appender
appender.rewrite.appenderRef.type = AppenderRef
appender.rewrite.appenderRef.ref = console

# =========================
# Root Logger
# =========================

rootLogger.level = info
rootLogger.appenderRefs = stdout
rootLogger.appenderRef.stdout.type = AppenderRef
rootLogger.appenderRef.stdout.ref = rewrite