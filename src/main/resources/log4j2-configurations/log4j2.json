{
  "Configuration": {
    "appenders": {
      "Console": [
        {
          "name": "Console",
          "target": "SYSTEM_OUT",
          "PatternLayout": {
            "pattern": "%d{yyyy-MM-dd HH:mm:ss} [%t] %-5level %c{1} - %msg%n"
          }
        },
        {
          "name": "JsonConsole",
          "target": "SYSTEM_OUT",
          "JsonLayout": {
            "compact": true,
            "properties": true,
            "stacktraceAsString": true
          }
        }
      ],
      "Rewrite": [
        {
          "name": "rewrite",
          "MessageRewritePolicy": {
            "replace": [
              {
                "regex": "([A-Za-z0-9._%+-])([A-Za-z0-9._%+-]*)(@[A-Za-z0-9.-]+\\.[A-Za-z]{2,})",
                "replacement": "[EMAIL MASKED]"
              },
              {
                "regex": "\\+?1?\\s*\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}",
                "replacement": "[PHONE]"
              },
              {
                "regex": "[A-Za-z0-9_%+-]{20,}\\.[A-Za-z0-9_%+-]{20,}\\.[A-Za-z0-9_%+-]+\\b",
                "replacement": "[TOKEN]"
              }
            ]
          },
          "AppenderRef": [
            {
              "ref": "Console"
            }
          ]
        }
      ]
    },
    "loggers": {
      "root": {
        "level": "info",
        "AppenderRef": [
          {
            "ref": "rewrite"
          }
        ]
      }
    }
  }
}